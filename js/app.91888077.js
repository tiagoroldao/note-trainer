(function(t){function e(e){for(var o,a,c=e[0],r=e[1],l=e[2],u=0,h=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);g&&g(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},i={app:0},s=[];function a(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c3125c91"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=a(t);var l=new Error;s=function(e){r.onerror=r.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,n[1](l)}i[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/note-trainer/",c.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var g=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"00f1":function(t,e,n){},"0136":function(t,e,n){},"042a":function(t,e,n){"use strict";var o=n("b45c"),i=n.n(o);i.a},"04af":function(t,e,n){"use strict";var o=n("1a3a"),i=n.n(o);i.a},"09df":function(t,e,n){"use strict";var o=n("b93f"),i=n.n(o);i.a},"1a3a":function(t,e,n){},2597:function(t,e,n){},"36bd":function(t,e,n){"use strict";var o=n("0136"),i=n.n(o);i.a},"3b37":function(t,e,n){},"5b6e":function(t,e,n){"use strict";var o=n("cf76"),i=n.n(o);i.a},"5c0b":function(t,e,n){"use strict";var o=n("9c0c"),i=n.n(o);i.a},"6af8":function(t,e,n){"use strict";var o=n("3b37"),i=n.n(o);i.a},7046:function(t,e,n){},"766e":function(t,e,n){},7867:function(t,e,n){},"7b8e":function(t,e,n){"use strict";var o=n("00f1"),i=n.n(o);i.a},"815d":function(t,e,n){"use strict";var o=n("7867"),i=n.n(o);i.a},8969:function(t,e,n){"use strict";var o=n("acc8"),i=n.n(o);i.a},9234:function(t,e,n){"use strict";var o=n("f133"),i=n.n(o);i.a},"92b3":function(t,e,n){"use strict";var o=n("a658"),i=n.n(o);i.a},"9c0c":function(t,e,n){},"9c38":function(t,e,n){"use strict";var o=n("766e"),i=n.n(o);i.a},a658:function(t,e,n){},acc8:function(t,e,n){},b0bf:function(t,e,n){"use strict";var o=n("c8f7"),i=n.n(o);i.a},b45c:function(t,e,n){},b93f:function(t,e,n){},c8f7:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("bf40"),n("7046");var o=n("2b0e"),i=n("ce5b"),s=n.n(i),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app"}},[n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),n("v-toolbar-title",[t._v(" The Diatonic DÃ©butant ")]),n("v-spacer"),n("SettingsModal",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-icon",t._g({staticClass:"settings"},e.on),[t._v(" settings ")])]}}])}),n("octolink",{staticClass:"octolink"})],1),n("v-navigation-drawer",{attrs:{app:"",clipped:!0,width:400},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("navigation",{on:{close:function(e){t.drawer=!1}}},[n("router-view",{attrs:{name:"sidebar"}})],1)],1),n("v-content",{style:{height:"100%"},attrs:{app:""}},[n("router-view")],1)],1)},c=[],r=n("d4ec"),l=n("99de"),u=n("7e84"),g=n("262e"),h=n("9ab4"),d=n("60a3"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"github-corner",attrs:{href:"https://github.com/tiagoroldao/note-trainer","aria-label":"View source on GitHub"}},[n("svg",{staticStyle:{fill:"#64CEAA",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"100%",height:"100%",viewBox:"0 0 250 250","aria-hidden":"true"}},[n("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),n("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0\n      C113.8,99.7 119.0,89.6 119.0,89.6\n      C122.0,82.7 120.5,78.6 120.5,78.6\n      C119.2,72.0 123.4,76.3 123.4,76.3\n      C127.3,80.9 125.5,87.3 125.5,87.3\n      C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),n("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0\n      C114.9,115.1 118.7,116.5 119.8,115.4\n      L133.7,101.6\n      C136.9,99.2139.9,98.4 142.2,98.6\n      C133.8,88.0 127.5,74.4 143.8,58.0\n      C148.5,53.4 154.0,51.2 159.7,51.0\n      C160.3,49.4 163.2,43.6 171.4,40.1\n      C171.4,40.1 176.1,42.5 178.8,56.2\n      C183.1,58.6 187.2,61.8 190.9,65.4\n      C194.5,69.0 197.7,73.2 200.1,77.6\n      C213.8,80.2 216.3,84.9 216.3,84.9\n      C212.7,93.1 206.9,96.0 205.4,96.6\n      C205.1,102.4 203.0,107.8 198.3,112.5\n      C181.9,128.9 168.3,122.5 157.7,114.1\n      C157.9,116.9 156.7,120.9 152.7,124.9\n      L141.0,136.5\n      C139.8,137.7 141.6,141.9 141.8,141.8\n      Z",fill:"currentColor"}})])])},b=[],f=o["default"].extend({}),v=f,m=(n("92b3"),n("2877")),y=Object(m["a"])(v,p,b,!1,null,"690c8478",null),O=y.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{dense:""}},[n("div",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}},[n("v-icon",[t._v(" close ")])],1),n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-subtitle",[t._v(" Helper tools for diatonic accordion players ")])],1)],1),n("v-divider"),n("v-list-item-group",t._l(t.links,(function(e,o){return n("v-list-item",{key:o,attrs:{to:e.to,link:""}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)})),1),n("v-divider",{staticClass:"py-1"}),t._t("default")],2)},C=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panels",{attrs:{accordion:"",multiple:t.multiple,focusable:"",flat:t.flat,tile:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[t._v(" General Settings ")]),n("v-expansion-panel-content",[n("SettingsSection",[n("v-switch",{staticClass:"switch-romanceNotation",attrs:{label:"Use Romance Notation?","input-value":t.$vxm.settings.useRomanceNotes},on:{change:t.onChangeUseRomanceNotes}})],1)],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",[t._v(" Audio Recording ")]),n("v-expansion-panel-content",[n("SettingsSection",{attrs:{title:"Recording device",description:"Recording device used for pitch detection.\n                          Will be reset if selected device is no longer available."}},[n("v-select",{attrs:{value:t.$vxm.settings.selectedInput,items:t.devices,attach:"","item-text":function(t,e){return t.label||"microphone "+(e+1)},"item-value":"deviceId",label:"Please select an input device"},on:{change:function(e){return t.$vxm.settings.setSelectedInput(e)}}})],1),n("SettingsSection",{attrs:{title:"Note detection volume",description:"Minimum volume at which notes are registered"}},[n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{staticClass:"min-vol-slider-wrap"},[n("v-progress-linear",{attrs:{height:"14"},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}}),n("v-slider",{staticClass:"min-vol-slider",attrs:{value:t.$vxm.settings.minVol,"always-dirty":"","thumb-label":"",color:"rgba(0,0,0,0)","thumb-color":"primary","track-color":"rgba(0,0,0,0)"},on:{change:t.onChangeVol}})],1),n("v-col",{staticStyle:{width:"60px"},attrs:{shrink:""}},[n("v-btn",{attrs:{color:"running"==t.$vxm.audio.state?"error":"success"},on:{click:t.toggleStream}},["running"==t.$vxm.audio.state?n("span",[t._v("Stop")]):n("span",[t._v("Start")])])],1)],1)],1)],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",[t._v(" Teacher Settings ")]),n("v-expansion-panel-content",[n("SettingsSection",{attrs:{title:"Note hold time",description:"Time a note needs to be held for registering in ms.\n                      Shorter times are more responsive, longer times produce less false results."}},[n("v-text-field",{staticClass:"mt-0",attrs:{value:t.$vxm.settings.teacher.noteRegisterTime,"hide-details":"","single-line":"",type:"number"},on:{change:function(e){return t.$vxm.settings.teacher.setNoteRegisterTime(e)}}})],1),n("SettingsSection",{attrs:{title:"Possible Notes",description:"Notes the teacher may choose from\n                      (for diatonic instruments)"}},[n("v-row",{attrs:{wrap:"","align-center":"","no-gutters":"",justify:"center"}},t._l(t.possibleNotes,(function(e,o){return n("v-col",{key:o,attrs:{shrink:""}},[n("v-switch",{staticClass:"switch-note",attrs:{"input-value":t.$vxm.settings.teacher.notes,label:t.toHumanNote(e),value:e},on:{change:t.onChangeNotes}})],1)})),1)],1),n("SettingsSection",{attrs:{title:"Note range",description:"Highest and lowest possible notes"}},[n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"10",sm:"2"}},[t._v(" "+t._s(t.toHumanNote(t.$vxm.settings.teacher.noteRange[0]))+" ")]),n("v-col",{attrs:{cols:"10",sm:"8"}},[n("v-range-slider",{attrs:{value:t.$vxm.settings.teacher.noteRange,max:127,min:0},on:{input:t.setNoteRange}})],1),n("v-col",{attrs:{cols:"10",sm:"2"}},[t._v(" "+t._s(t.toHumanNote(t.$vxm.settings.teacher.noteRange[1]))+" ")])],1)],1)],1)],1)],1)},w=[],S=(n("99af"),n("4de4"),n("4160"),n("159b"),n("bee2")),k=n("0918"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-input-box"},[n("div",[t.title.length?n("h3",[t._v(" "+t._s(t.title)+" ")]):t._e(),t.description.length?n("p",[t._v(" "+t._s(t.description)+" ")]):t._e(),t._t("default")],2)])},$=[],E=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),e}(d["d"]);Object(h["a"])([Object(d["b"])({type:String,default:""})],E.prototype,"title",void 0),Object(h["a"])([Object(d["b"])({type:String,default:""})],E.prototype,"description",void 0),E=Object(h["a"])([Object(d["a"])({})],E);var _=E,N=_,L=(n("36bd"),Object(m["a"])(N,A,$,!1,null,"658ac5f5",null)),G=L.exports,H=(n("a15b"),n("53ca")),D=n("5530"),B={A:"La",B:"Si",C:"Do",D:"Re",E:"Mi",F:"Fa",G:"Sol",H:"Si"};function F(t,e){var n=Object(D["a"])({hideOctave:!0,useRomanceNotes:!1},e);if(void 0===t||""===t)return"";var o="object"===Object(H["a"])(t)?t.note:t,i=void 0!==n.isChord?n.isChord:t.isChord;"number"===typeof o&&(o=k["a"].midiToNoteName(o,{sharps:!0}));var s=k["b"].tokenize(o);return n.hideOctave&&(s[2]=""),n.useRomanceNotes&&(s[0]=B[s[0]]),i&&(s[0]=n.useRomanceNotes?s[0].toUpperCase():s[0].toLowerCase()),s.join("")}var R=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.unsubscribers=[],t.volume=0,t.devices=[],t.possibleNotes=k["c"].chromatic(["C1","B1"],{sharps:!0,pitchClass:!0}),t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onChangeVol",value:function(t){this.$vxm.settings.setMinVol(t)}},{key:"onChangeNotes",value:function(t){this.$vxm.settings.teacher.setNotes(t)}},{key:"onChangeUseRomanceNotes",value:function(t){this.$vxm.settings.setUseRomanceNotes(t)}},{key:"setNoteRange",value:function(t){this.$vxm.settings.teacher.setNoteRange(t)}},{key:"toHumanNote",value:function(t){return F(t,{useRomanceNotes:this.$vxm.settings.useRomanceNotes,hideOctave:!1})}},{key:"toggleStream",value:function(){"running"!==this.$vxm.audio.state&&this.$vxm.settings.selectedInput?this.$audioContext.start(this.$vxm.settings.selectedInput):this.$audioContext.suspend()}},{key:"mounted",value:function(){var t=this;navigator.mediaDevices.enumerateDevices().then((function(e){t.devices=e.filter((function(t){return"audioinput"===t.kind}))})),this.unsubscribers=this.unsubscribers.concat([this.$audioContext.volumeAnalyser.on("volumeData",(function(e){t.volume=100*e}))])}},{key:"beforeDestroy",value:function(){this.unsubscribers.forEach((function(t){return t()}))}}]),e}(d["d"]);Object(h["a"])([Object(d["b"])({default:!1})],R.prototype,"multiple",void 0),Object(h["a"])([Object(d["b"])({default:!1})],R.prototype,"flat",void 0),Object(h["a"])([Object(d["c"])()],R.prototype,"volume",void 0),Object(h["a"])([Object(d["c"])()],R.prototype,"devices",void 0),Object(h["a"])([Object(d["c"])()],R.prototype,"possibleNotes",void 0),R=Object(h["a"])([Object(d["a"])({components:{SettingsSection:G}})],R);var M=R,z=M,T=(n("6af8"),Object(m["a"])(z,x,w,!1,null,"1165468e",null)),V=T.exports,I=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.links=[{to:"/",text:"Pitch Finder"},{to:"/teacher",text:"Teacher"},{to:"/accordion",text:"Accordion [Work in progress!]"},{to:"/about",text:"About"}],t}return Object(g["a"])(e,t),e}(d["d"]);I=Object(h["a"])([Object(d["a"])({components:{Settings:V}})],I);var q=I,P=q,W=(n("8969"),Object(m["a"])(P,j,C,!1,null,"5f2f503e",null)),U=W.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{scrollable:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[t._t("default",[n("v-btn",t._g({attrs:{color:"primary",dark:""}},o),[t._v(" Settings ")])],{on:o})]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-toolbar",{staticClass:"flex-grow-0",attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[n("v-icon",[t._v(" close ")])],1),n("v-toolbar-title",[t._v(" Settings ")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1),n("v-card-text",[n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"10",sm:"6"}},[n("settings",{attrs:{multiple:""}})],1)],1)],1)],1)],1)},K=[],X=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.dialog=!1,t}return Object(g["a"])(e,t),e}(d["d"]);Object(h["a"])([Object(d["c"])()],X.prototype,"dialog",void 0),X=Object(h["a"])([Object(d["a"])({components:{Settings:V}})],X);var J=X,Z=J,Q=Object(m["a"])(Z,Y,K,!1,null,"d4022e9a",null),tt=Q.exports,et=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.drawer=!0,t.links=[{to:"/",text:"Pitch Finder"},{to:"/teacher",text:"Teacher"},{to:"/accordion",text:"Accordion"},{to:"/about",text:"About"}],t}return Object(g["a"])(e,t),e}(d["d"]);et=Object(h["a"])([Object(d["a"])({components:{Octolink:O,Navigation:U,SettingsModal:tt}})],et);var nt=et,ot=nt,it=(n("5c0b"),Object(m["a"])(ot,a,c,!1,null,null,null)),st=it.exports,at=(n("d3b7"),n("8c4f")),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PitchDetector")},rt=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("h1",{staticClass:"view-title"},[t._v(" Pitch Finder ")])])],1),n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"10",md:"5"}},[n("v-btn",{attrs:{block:"",disabled:!t.$vxm.settings.selectedInput,color:"running"==t.$vxm.audio.state?"error":"success"},on:{click:t.toggleStream}},[t.$vxm.settings.selectedInput?"running"==t.$vxm.audio.state?n("span",[t._v("Stop")]):n("span",[t._v("Start")]):n("span",[t._v("Please select an input device in Settings")])])],1)],1),n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{class:["note-holder",{correct:"success"===t.state}],attrs:{cols:"12",md:"6"}},[n("NoteRenderer",{attrs:{note:[t.note]}})],1)],1),n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"10",md:"4"}},[n("span",{staticClass:"note-string"},[t._v(" "+t._s(t.noteString||"")+" ")])])],1)],1)},ut=[],gt=n("0f10"),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ABCRenderer",t._g({attrs:{abc:t.abc}},t.$listeners))},dt=[],pt=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"abcWrapper"},[n("div",t._g({ref:"abcOutput",staticClass:"abcOutput"},t.$listeners))])}),bt=[],ft=n("ee1c"),vt=n.n(ft),mt=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"mounted",value:function(){this.renderAbc()}},{key:"renderAbc",value:function(){vt.a.renderAbc(this.$refs.abcOutput,this.abc,this.abcOptions)}}]),e}(d["d"]);Object(h["a"])([Object(d["b"])(String)],mt.prototype,"abc",void 0),Object(h["a"])([Object(d["b"])({type:Object,default:function(){return{responsive:"resize",staffwidth:150,add_classes:!0}}})],mt.prototype,"abcOptions",void 0),Object(h["a"])([Object(d["e"])("abc")],mt.prototype,"renderAbc",null),mt=Object(h["a"])([d["a"]],mt);var yt=mt,Ot=yt,jt=(n("9c38"),Object(m["a"])(Ot,pt,bt,!1,null,"e41bb8b6",null)),Ct=jt.exports,xt=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"abc",get:function(){return"X: 1\nL: 1/8\n%%stretchlast\n[| ".concat(this.note.map((function(t){return"".concat(t,"8 ")})).join("")," |]")}}]),e}(d["d"]);Object(h["a"])([Object(d["b"])({default:function(){return[]},type:Array})],xt.prototype,"note",void 0),xt=Object(h["a"])([Object(d["a"])({components:{ABCRenderer:Ct}})],xt);var wt=xt,St=wt,kt=Object(m["a"])(St,ht,dt,!1,null,"07841d9c",null),At=kt.exports,$t=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.unsubscribers=[],t.devices=[],t.pitch=0,t.note="x",t.noteString="",t.state="off",t.duration=0,t.prob=0,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onAudioStateChange",value:function(){"running"!==this.$vxm.audio.state&&(this.note="x",this.noteString="",this.state="off")}},{key:"toHumanNote",value:function(t){return F(t,{useRomanceNotes:this.$vxm.settings.useRomanceNotes,hideOctave:!1})}},{key:"toggleStream",value:function(){var t=this;"on"===this.state?this.$audioContext.suspend().then((function(){t.state="off",t.note="x",t.noteString=""})):this.$vxm.settings.selectedInput&&this.$audioContext.start(this.$vxm.settings.selectedInput).then((function(){t.state="on"}))}},{key:"mounted",value:function(){var t=this;this.unsubscribers=this.unsubscribers.concat([this.$audioContext.pitchAnalyser.on("pitchData",(function(e){if("on"===t.state&&e.freq>0){var n=k["a"].midiToNoteName(k["a"].freqToMidi(e.freq),{sharps:!0});t.note=Object(gt["a"])(n),t.noteString=t.toHumanNote(n),t.duration=t.$audioContext.pitchAnalyser.duration,t.prob=e.probability}}))])}},{key:"beforeDestroy",value:function(){this.unsubscribers.forEach((function(t){return t()})),this.$audioContext.suspend()}}]),e}(o["default"]);Object(h["a"])([Object(d["c"])()],$t.prototype,"devices",void 0),Object(h["a"])([Object(d["c"])()],$t.prototype,"pitch",void 0),Object(h["a"])([Object(d["c"])()],$t.prototype,"note",void 0),Object(h["a"])([Object(d["c"])()],$t.prototype,"noteString",void 0),Object(h["a"])([Object(d["c"])()],$t.prototype,"state",void 0),Object(h["a"])([Object(d["c"])()],$t.prototype,"duration",void 0),Object(h["a"])([Object(d["c"])()],$t.prototype,"prob",void 0),Object(h["a"])([Object(d["e"])("audio.state")],$t.prototype,"onAudioStateChange",null),$t=Object(h["a"])([Object(d["a"])({components:{NoteRenderer:At}})],$t);var Et=$t,_t=Et,Nt=(n("e717"),Object(m["a"])(_t,lt,ut,!1,null,"25e32bb8",null)),Lt=Nt.exports,Gt=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),e}(d["d"]);Gt=Object(h["a"])([Object(d["a"])({components:{PitchDetector:Lt}})],Gt);var Ht=Gt,Dt=Ht,Bt=Object(m["a"])(Dt,ct,rt,!1,null,null,null),Ft=Bt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("h1",{staticClass:"view-title"},[t._v(" Teacher ")])])],1),n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"10",md:"5"}},[n("v-btn",{attrs:{block:"",disabled:!t.$vxm.settings.selectedInput,color:"running"==t.$vxm.audio.state?"error":"success"},on:{click:t.toggleTeacher}},[t.$vxm.settings.selectedInput?"running"==t.$vxm.audio.state?n("span",[t._v("Stop")]):n("span",[t._v("Start")]):n("span",[t._v("Please select an input device in Settings")])])],1)],1),n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{class:["note-holder",{correct:"success"===t.state}],attrs:{cols:"12",md:"6"}},[n("NoteRenderer",{attrs:{note:[t.targetNote,t.note]}})],1)],1),n("v-row",{attrs:{wrap:"","align-center":"",justify:"center"}},[n("v-col",{attrs:{cols:"10",md:"4"}},[n("v-btn",{attrs:{disabled:"off"==t.state,color:"primary"},on:{click:t.nextTargetNote}},[t._v(" Next Note ")])],1)],1)],1)},Mt=[],zt=(n("c975"),2e3),Tt=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.unsubscribers=[],t.devices=[],t.note="x",t.targetNote="x",t.state="off",t.tempNote="",t.noteStart=0,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onAudioStateChange",value:function(){"running"!==this.$vxm.audio.state&&(this.note="x",this.state="off")}},{key:"toggleTeacher",value:function(){var t=this;"running"!==this.$vxm.audio.state&&this.$vxm.settings.selectedInput?this.$audioContext.start(this.$vxm.settings.selectedInput).then((function(){t.nextTargetNote()})):this.$audioContext.suspend().then((function(){t.note="x",t.targetNote="x",t.state="off"}))}},{key:"nextTargetNote",value:function(){this.state="querying",this.note="x",this.targetNote=this.randomNote()}},{key:"nextNote",value:function(t){var e=this;"querying"===this.state&&(this.note=t,this.note===this.targetNote&&(this.state="success",setTimeout((function(){"success"===e.state&&e.nextTargetNote()}),zt)))}},{key:"handleNoteData",value:function(t){if("querying"===this.state)if(t.freq>0){var e=Object(gt["a"])(k["b"].enharmonic(k["a"].midiToNoteName(k["a"].freqToMidi(t.freq))))||"";e.length&&e!==this.tempNote?(this.tempNote=e,this.noteStart=Date.now()):Date.now()>this.noteStart+this.$vxm.settings.teacher.noteRegisterTime&&(this.nextNote(e),this.tempNote="")}else this.tempNote=""}},{key:"mounted",value:function(){var t=this;this.unsubscribers=this.unsubscribers.concat([this.$audioContext.pitchAnalyser.on("pitchData",(function(e){return t.handleNoteData(e)}))])}},{key:"randomNote",value:function(){var t=this.$vxm.settings.teacher.noteRange[0],e=this.$vxm.settings.teacher.noteRange[1]+1,n=0;do{n=Math.floor(Math.random()*(e-t)+t)}while(-1===this.$vxm.settings.teacher.notes.indexOf(k["a"].midiToNoteName(n,{sharps:!0,pitchClass:!0})));return Object(gt["a"])(k["a"].midiToNoteName(n,{sharps:!0}))}},{key:"beforeDestroy",value:function(){this.unsubscribers.forEach((function(t){return t()})),this.$audioContext.suspend()}}]),e}(o["default"]);Object(h["a"])([Object(d["c"])()],Tt.prototype,"devices",void 0),Object(h["a"])([Object(d["c"])()],Tt.prototype,"note",void 0),Object(h["a"])([Object(d["c"])()],Tt.prototype,"targetNote",void 0),Object(h["a"])([Object(d["c"])()],Tt.prototype,"state",void 0),Object(h["a"])([Object(d["e"])("audio.state")],Tt.prototype,"onAudioStateChange",null),Tt=Object(h["a"])([Object(d["a"])({components:{NoteRenderer:At}})],Tt);var Vt=Tt,It=Vt,qt=(n("09df"),Object(m["a"])(It,Rt,Mt,!1,null,"75fe32cb",null)),Pt=qt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion-area"},[n("div",{ref:"holder",staticClass:"accordion-area-inner"},[n("div",{staticClass:"accordion-wrap",style:{width:t.squareSize+"px",height:t.squareSize+"px"}},[t._l(t.sides,(function(e){return[t.showEditControls?[n("AccordionAddButton",{key:e+"-first-row-add",staticClass:"button",style:{top:t.centerY+"px",left:t.getRowX("rightHand"===e,t.accordion[e].length)+"px"},attrs:{size:t.buttonSpace},on:{"add-button":function(n){return t.onAddRow("rightHand"===e,t.accordion[e].length)}}}),n("AccordionAddButton",{key:e+"-last-row-add",staticClass:"button",style:{top:t.centerY+"px",left:t.getRowX("rightHand"===e,-1)+"px"},attrs:{size:t.buttonSpace},on:{"add-button":function(n){return t.onAddRow("rightHand"===e,0)}}})]:t._e(),t._l(t.accordion[e],(function(o,i){return n("AccordionViewerRow",{key:e+"-"+i+"-row",staticClass:"row-holder",style:{left:t.getRowX("rightHand"===e,i)+"px",top:t.getRowY(o)+"px"},attrs:{row:o,"mirror-view":t.mirrorView,"show-edit-controls":t.showEditControls,display:t.$vxm.settings.accordion.viewStyle,highlights:t.highlightedNotes,"show-highlights-as-scale":t.$vxm.noteHighlighter.showHighlightsAsScale,"button-space":t.buttonSpace},on:{"add-button":function(n){return t.onAddButton("rightHand"===e,i,n)},"remove-button":function(n){return t.onRemoveButton("rightHand"===e,i,n)},"remove-row":function(n){return t.onRemoveRow("rightHand"===e,i)},"note-change":function(n,o){return t.onNoteChange("rightHand"===e,i,n,o)},"set-row-offset":function(n){return t.setRowOffset("rightHand"===e,i,n)}}})}))]}))],2)])])},Ut=[],Yt=(n("a434"),n("2909")),Kt=n("ade3"),Xt=n("2ef0"),Jt=n.n(Xt),Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion-button-holder"},[n("div",{class:["accordion-button",{editable:t.editable},"editing-"+t.editing],style:{height:t.buttonSize+"px",width:t.buttonSize+"px","margin-left":"-"+t.buttonSize/2+"px","margin-top":"-"+t.buttonSize/2+"px","border-radius":t.buttonSize+"px","border-width":t.borderSize+"px","font-size":t.fontSize+"px"}},[n("div",{class:["note-texts","show-"+t.displayedNote]},[n("NoteChooserMenu",{attrs:{note:t.button.opening},on:{change:function(e){return t.onNoteChosen(e,!0)}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("div",t._g({class:["note-text opening",{chord:t.button.opening.isChord,highlighted:!!t.openingNoteHighlighted}],style:t.openingNoteHighlighted&&t.getHighlightStyle(t.openingNoteHighlightedIndex,!0)},o),[t._v(" "+t._s(t.openingNote)+" ")])]}}])}),n("NoteChooserMenu",{attrs:{note:t.button.closing},on:{change:function(e){return t.onNoteChosen(e,!1)}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("div",t._g({class:["note-text closing",{chord:t.button.closing.isChord,highlighted:!!t.closingNoteHighlighted}],style:t.closingNoteHighlighted&&t.getHighlightStyle(t.closingNoteHighlightedIndex,!1)},o),[t._v(" "+t._s(t.closingNote)+" ")])]}}])})],1)]),n("OptionsMenu",{attrs:{items:[{title:"Remove button",name:"remove-button"},{title:"Add button above",name:"add-button-above"},{title:"Add button below",name:"add-button-below"}]},on:{action:t.onButtonAction},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],staticClass:"options-button",style:{top:t.buttonSize/2+"px",left:t.buttonSize/2+"px",height:t.buttonSize/2+"px",width:t.buttonSize/2+"px","margin-left":"-"+t.buttonSize/4+"px","margin-top":"-"+t.buttonSize/4+"px","font-size":t.fontSize+"px"},attrs:{text:"",icon:"",color:"amber lighten-2"}},o),[n("v-icon",[t._v(" arrow_drop_down_circle ")])],1)]}}])})],1)},Qt=[],te=(n("c740"),n("6929")),ee=n.n(te),ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{staticStyle:{"max-width":"600px"},attrs:{absolute:"","offset-y":"","position-x":t.x,"position-y":t.y,"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[t._t("activator",null,{on:n})]}}],null,!0),model:{value:t.showingMenu,callback:function(e){t.showingMenu=e},expression:"showingMenu"}},[n("v-card",[n("v-card-text",{staticClass:"pa-2"},[n("v-checkbox",{staticClass:"inline-block",attrs:{"input-value":t.note.isChord,label:"Is a chord?"},on:{change:t.onChosenChord}}),n("v-autocomplete",{ref:"noteChoice",staticClass:"pa-0 ma-0",attrs:{value:t.note.note,"hide-details":"","hide-selected":!1,clearable:"",autofocus:"","menu-props":"eager",placeholder:"Choose Note...",items:t.notes},on:{change:t.onChosenNote}})],1)],1)],1)},oe=[],ie=(n("5db7"),n("73d9"),function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.notes=Jt.a.range(128).flatMap((function(t){return[k["a"].midiToNoteName(t,{sharps:!0}),k["a"].midiToNoteName(t)]})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(e){return{value:e,text:t.toHumanNote(e,!1)}})),t.showingMenu=!1,t.x=0,t.y=0,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=n,this.showingMenu=!0,setTimeout((function(){t.$forceUpdate()}))}},{key:"hide",value:function(){this.showingMenu=!1}},{key:"onChosenNote",value:function(t){this.setNote({note:t,isChord:this.note.isChord})}},{key:"onChosenChord",value:function(t){this.setNote({note:this.note.note,isChord:t})}},{key:"setNote",value:function(t){this.$emit("change",t)}},{key:"toHumanNote",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return F(t,{useRomanceNotes:this.$vxm.settings.useRomanceNotes,hideOctave:e})}}]),e}(d["d"]));Object(h["a"])([Object(d["b"])({required:!0})],ie.prototype,"note",void 0),ie=Object(h["a"])([d["a"]],ie);var se=ie,ae=se,ce=(n("815d"),Object(m["a"])(ae,ne,oe,!1,null,"1b548952",null)),re=ce.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",t._b({staticStyle:{"max-width":"600px"},attrs:{absolute:"","offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[t._t("activator",null,{on:n})]}}],null,!0),model:{value:t.showingMenu,callback:function(e){t.showingMenu=e},expression:"showingMenu"}},"v-menu",t.$props,!1),[n("v-list",t._l(t.items,(function(e,o){return n("v-list-item",{key:o,on:{click:function(n){return t.onItemClick(e)}}},[n("v-list-item-title",[t._v(" "+t._s(e.title)+" ")])],1)})),1)],1)},ue=[],ge=(n("b0c0"),function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.showingMenu=!1,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onItemClick",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$emit("action",t.name),e&&(this.showingMenu=!1)}}]),e}(d["d"]));Object(h["a"])([Object(d["b"])({required:!0})],ge.prototype,"items",void 0),ge=Object(h["a"])([d["a"]],ge);var he=ge,de=he,pe=Object(m["a"])(de,le,ue,!1,null,null,null),be=pe.exports,fe="#17d8ff",ve="#26ff17",me="#ff2617",ye="#ffe817",Oe=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.editing=null,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"getHighlightStyle",value:function(t,e){if(this.highlights.length&&this.showHighlightsAsScale){var n=ee()(e?me:fe),o=ee()(e?ye:ve);return{background:n.mix(o,t/this.highlights.length).string()}}return{}}},{key:"onButtonAction",value:function(t){this.$emit(t)}},{key:"onNoteChosen",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Jt.a.cloneDeep(this.button);n[e?"opening":"closing"]=t,this.$emit("note-change",n)}},{key:"toHumanNote",value:function(t){return F(t,{useRomanceNotes:this.$vxm.settings.useRomanceNotes})}},{key:"displayedNote",get:function(){return this.editable?this.display:this.button.closing.note===this.button.opening.note?this.openingNoteHighlighted&&this.closingNoteHighlighted?this.display:this.closingNoteHighlighted?"closing":"opening":this.display}},{key:"buttonSize",get:function(){return Math.ceil(.85*this.size)}},{key:"borderSize",get:function(){return Math.ceil(this.buttonSize/40)}},{key:"fontSize",get:function(){return Math.ceil(this.buttonSize/3.5)}},{key:"openingNoteHighlightedIndex",get:function(){var t=this;return this.editable?-1:this.highlights.findIndex((function(e){return k["f"].note(t.button.opening.note).chroma===k["f"].note(e).chroma}))}},{key:"openingNoteHighlighted",get:function(){return this.highlights[this.openingNoteHighlightedIndex]}},{key:"closingNoteHighlightedIndex",get:function(){var t=this;return this.editable?-1:this.highlights.findIndex((function(e){return k["f"].note(t.button.closing.note).chroma===k["f"].note(e).chroma}))}},{key:"closingNoteHighlighted",get:function(){return this.highlights[this.closingNoteHighlightedIndex]}},{key:"closingNote",get:function(){return this.toHumanNote(this.closingNoteHighlighted||this.button.closing)}},{key:"openingNote",get:function(){return this.toHumanNote(this.openingNoteHighlighted||this.button.opening)}}]),e}(o["default"]);Object(h["a"])([Object(d["b"])({default:!1})],Oe.prototype,"editable",void 0),Object(h["a"])([Object(d["b"])({required:!0})],Oe.prototype,"size",void 0),Object(h["a"])([Object(d["b"])({required:!0})],Oe.prototype,"button",void 0),Object(h["a"])([Object(d["b"])({default:!1})],Oe.prototype,"showHighlightsAsScale",void 0),Object(h["a"])([Object(d["b"])({default:function(){return[]}})],Oe.prototype,"highlights",void 0),Object(h["a"])([Object(d["b"])({default:"both"})],Oe.prototype,"display",void 0),Oe=Object(h["a"])([Object(d["a"])({components:{NoteChooserMenu:re,OptionsMenu:be}})],Oe);var je=Oe,Ce=je,xe=(n("9234"),Object(m["a"])(Ce,Zt,Qt,!1,null,"9b9ebc00",null)),we=xe.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row-holder"},[t.showEditControls?[n("AccordionAddButton",{staticClass:"button",style:{top:t.getButtonY(t.row,-1)+"px"},attrs:{size:t.buttonSpace},on:{"add-button":function(e){return t.$emit("add-button",0)}}}),n("AccordionAddButton",{staticClass:"button",style:{top:t.getButtonY(t.row,t.row.buttons.length)+"px"},attrs:{size:t.buttonSpace},on:{"add-button":function(e){return t.$emit("add-button",t.row.buttons.length)}}}),n("RowMenu",{staticClass:"button",style:{top:t.getButtonY(t.row,t.row.buttons.length+.6,!1)+"px"},attrs:{row:t.row,size:t.buttonSpace},on:{"set-row-offset":function(e){return t.setRowOffset(e)},"remove-row":function(e){return t.$emit("remove-row")}}})]:t._e(),t._l(t.row.buttons,(function(e,o){return[n("AccordionButton",{key:"button-"+o,staticClass:"button",style:{top:t.getButtonY(t.row,o)+"px"},attrs:{editable:t.showEditControls,size:t.buttonSpace,button:e,highlights:t.highlights,"show-highlights-as-scale":t.showHighlightsAsScale,display:t.display},on:{"add-button-above":function(e){t.$emit("add-button",o+(t.mirrorView?0:1))},"add-button-below":function(e){t.$emit("add-button",o+(t.mirrorView?1:0))},"remove-button":function(e){return t.$emit("remove-button",o)},"note-change":function(e){return t.onNoteChange(o,e)}}})]}))],2)},ke=[],Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion-add-button-holder"},[n("v-btn",{staticClass:"accordion-add-button",style:{height:t.buttonSize+"px",width:t.buttonSize+"px","margin-left":"-"+t.buttonSize/2+"px","margin-top":"-"+t.buttonSize/2+"px","font-size":t.fontSize+"px"},attrs:{text:"",icon:"",color:"green lighten-4"},on:{click:function(e){return t.$emit("add-button")}}},[n("v-icon",[t._v(" add_circle_outline ")])],1)],1)},$e=[],Ee=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"buttonSize",get:function(){return Math.floor(.65*this.size)}},{key:"fontSize",get:function(){return Math.floor(this.buttonSize)}}]),e}(o["default"]);Object(h["a"])([Object(d["b"])({required:!0})],Ee.prototype,"size",void 0),Ee=Object(h["a"])([d["a"]],Ee);var _e=Ee,Ne=_e,Le=(n("7b8e"),Object(m["a"])(Ne,Ae,$e,!1,null,"6fb2bb5b",null)),Ge=Le.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion-row-menu-holder"},[n("v-menu",t._b({attrs:{absolute:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({staticClass:"accordion-row-menu",style:{height:t.buttonSize+"px",width:t.buttonSize+"px","margin-left":"-"+t.buttonSize/2+"px","margin-top":"-"+t.buttonSize/2+"px","font-size":t.fontSize+"px"},attrs:{text:"",icon:"",color:"amber lighten-4"}},o),[n("v-icon",[t._v(" arrow_drop_down_circle ")])],1)]}}]),model:{value:t.showingMenu,callback:function(e){t.showingMenu=e},expression:"showingMenu"}},"v-menu",t.$props,!1),[n("v-card",[n("v-subheader",[t._v(" Row offset ")]),n("v-card-text",{staticClass:"pa-2"},[n("v-slider",{staticClass:"offset-slider",attrs:{value:t.row.offset,"always-dirty":"","thumb-label":"always",max:6,min:-6,step:.5},on:{input:t.onChangeOffset}})],1),n("v-divider"),n("v-btn",{staticClass:"ma-2",attrs:{small:"",color:"error"},on:{click:t.onDeleteRow}},[t._v(" Delete Row ")])],1)],1)],1)},De=[],Be=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.showingMenu=!1,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onChangeOffset",value:function(t){this.$emit("set-row-offset",t)}},{key:"onDeleteRow",value:function(){this.$emit("remove-row"),this.showingMenu=!1}},{key:"buttonSize",get:function(){return Math.floor(.4*this.size)}},{key:"fontSize",get:function(){return Math.floor(this.buttonSize)}}]),e}(o["default"]);Object(h["a"])([Object(d["b"])({required:!0})],Be.prototype,"size",void 0),Object(h["a"])([Object(d["b"])({required:!0})],Be.prototype,"row",void 0),Be=Object(h["a"])([d["a"]],Be);var Fe=Be,Re=Fe,Me=(n("fe13"),Object(m["a"])(Re,He,De,!1,null,"b138aa2c",null)),ze=Me.exports,Te=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onNoteChange",value:function(t,e){this.$emit("note-change",t,e)}},{key:"setRowOffset",value:function(t){this.$emit("set-row-offset",t)}},{key:"getButtonY",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mirrorView,o=this.buttonSpace*(e+.5);return n?o:t.buttons.length*this.buttonSpace-o}}]),e}(o["default"]);Object(h["a"])([Object(d["b"])({default:!1})],Te.prototype,"mirrorView",void 0),Object(h["a"])([Object(d["b"])({default:!1})],Te.prototype,"showEditControls",void 0),Object(h["a"])([Object(d["b"])({default:!1})],Te.prototype,"showHighlightsAsScale",void 0),Object(h["a"])([Object(d["b"])({default:"both"})],Te.prototype,"display",void 0),Object(h["a"])([Object(d["b"])({default:function(){return[]}})],Te.prototype,"highlights",void 0),Object(h["a"])([Object(d["b"])({required:!0})],Te.prototype,"row",void 0),Object(h["a"])([Object(d["b"])({default:0})],Te.prototype,"buttonSpace",void 0),Te=Object(h["a"])([Object(d["a"])({components:{AccordionButton:we,AccordionAddButton:Ge,RowMenu:ze}})],Te);var Ve=Te,Ie=Ve,qe=(n("5b6e"),Object(m["a"])(Ie,Se,ke,!1,null,"66a5cea4",null)),Pe=qe.exports,We=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.buttonSpace=0,t.centerX=0,t.centerY=0,t.squareSize=0,t.centerRowWidth=3,t.sides=["rightHand","leftHand"],t.onWindowResizeListener=function(){return t.calculateButtons()},t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"mounted",value:function(){var t=this;window.addEventListener("resize",this.onWindowResizeListener),setTimeout((function(){return t.calculateButtons()}))}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.onWindowResizeListener)}},{key:"calculateButtons",value:function(){var t=this.$refs.holder.getBoundingClientRect(),e=t.height/this.buttonLength,n=t.width/this.rowsLength;this.squareSize=Math.min(t.height,t.width),this.buttonSpace=Math.floor(Math.min(n,e)),this.centerX=this.squareSize/2,this.centerY=this.buttonSpace*this.buttonLength/2}},{key:"onNoteChange",value:function(t,e,n,o){var i=Jt.a.cloneDeep(t?this.accordion.rightHand:this.accordion.leftHand);i[e].buttons[n]=o,this.$vxm.settings.accordion.updateLayout(Object(Kt["a"])({},t?"rightHand":"leftHand",i))}},{key:"setRowOffset",value:function(t,e,n){var o=Jt.a.cloneDeep(t?this.accordion.rightHand:this.accordion.leftHand);o[e].offset=n,this.$vxm.settings.accordion.updateLayout(Object(Kt["a"])({},t?"rightHand":"leftHand",o))}},{key:"onAddButton",value:function(t,e,n){var o=Jt.a.cloneDeep(t?this.accordion.rightHand:this.accordion.leftHand);o[e].buttons.splice(n,0,{opening:{note:""},closing:{note:""}}),this.$vxm.settings.accordion.updateLayout(Object(Kt["a"])({},t?"rightHand":"leftHand",o))}},{key:"onRemoveButton",value:function(t,e,n){var o=Jt.a.cloneDeep(t?this.accordion.rightHand:this.accordion.leftHand);o[e].buttons.splice(n,1),this.$vxm.settings.accordion.updateLayout(Object(Kt["a"])({},t?"rightHand":"leftHand",o))}},{key:"onAddRow",value:function(t,e){var n=Jt.a.cloneDeep(t?this.accordion.rightHand:this.accordion.leftHand);n.splice(e,0,{buttons:[]}),this.$vxm.settings.accordion.updateLayout(Object(Kt["a"])({},t?"rightHand":"leftHand",n))}},{key:"onRemoveRow",value:function(t,e){var n=Jt.a.cloneDeep(t?this.accordion.rightHand:this.accordion.leftHand);n.splice(e,1),this.$vxm.settings.accordion.updateLayout(Object(Kt["a"])({},t?"rightHand":"leftHand",n))}},{key:"getRowY",value:function(t){var e=this.mirrorView?t.offset||0:-(t.offset||0);return this.buttonSpace*((this.buttonLength-t.buttons.length-e)/2)}},{key:"getRowX",value:function(t,e){var n=this.centerX,o=(this.accordion.rightHand.length-this.accordion.leftHand.length)/2,i=this.centerRowWidth/2+(t?this.accordion.rightHand:this.accordion.leftHand).length-e-.5;return t||(i=-i),n+(i-o)*this.buttonSpace}},{key:"buttonLength",get:function(){var t=this.showEditControls?3:0;return Math.max.apply(Math,Object(Yt["a"])(this.accordion.rightHand.map((function(e){return e.buttons.length+Math.abs(e.offset||0)+t}))).concat(Object(Yt["a"])(this.accordion.leftHand.map((function(e){return e.buttons.length+Math.abs(e.offset||0)+t})))))}},{key:"highlightedNotes",get:function(){return this.$vxm.noteHighlighter.showHighlights?this.$vxm.noteHighlighter.highlightedScaleNotes:[]}},{key:"showEditControls",get:function(){return this.$vxm.settings.accordion.showEditControls}},{key:"mirrorView",get:function(){return this.$vxm.settings.accordion.mirrorView}},{key:"horizontalOffset",get:function(){return(this.accordion.rightHand.length-this.accordion.leftHand.length)/2}},{key:"rowsLength",get:function(){var t=this.showEditControls?4:0;return this.accordion.rightHand.length+this.accordion.leftHand.length+this.centerRowWidth+t}},{key:"accordion",get:function(){return this.$vxm.settings.accordion.accordionLayout}}]),e}(o["default"]);Object(h["a"])([Object(d["e"])("accordion",{deep:!0}),Object(d["e"])("showEditControls")],We.prototype,"calculateButtons",null),We=Object(h["a"])([Object(d["a"])({components:{AccordionButton:we,AccordionAddButton:Ge,AccordionViewerRow:Pe,RowMenu:ze}})],We);var Ue=We,Ye=Ue,Ke=(n("042a"),Object(m["a"])(Ye,Wt,Ut,!1,null,"16f80574",null)),Xe=Ke.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar-settings-holder"},[n("AccordionLayoutSettings"),n("v-divider"),n("AccordionViewSettings"),n("v-divider"),n("AccordionScaleSettings")],1)},Ze=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-autocomplete",{ref:"layoutChoice",attrs:{placeholder:"Choose Layout...",items:t.$vxm.settings.accordion.accordionLayouts,"return-object":"",clearable:"","item-text":"name","item-value":"id"},on:{change:t.onLayoutChoice},scopedSlots:t._u([{key:"item",fn:function(e){return[e.item.custom?n("span",{staticClass:"custom-marker"},[t._v("(Custom)")]):t._e(),n("span",[t._v(t._s(e.item.name))])]}}])}),n("SettingsSection",{attrs:{title:"Layout Options"}},[n("v-text-field",{attrs:{value:t.currentLayout.name,required:"",rules:[function(t){return!!t||"A Name is required"}],label:"Name"},on:{input:t.setLayoutName}}),n("div",{staticClass:"text-right"},[t.currentLayout.custom?[n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"error"},on:{click:t.deleteLayout}},[t._v(" Delete ")]),n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"warning",disabled:!t.currentLayout.edited},on:{click:t.resetLayout}},[t._v(" Reset ")]),n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"success",disabled:!t.currentLayout.edited},on:{click:t.saveLayout}},[t._v(" Save ")]),n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary"},on:{click:t.exportLayout}},[t._v(" Export ")])]:t.currentLayout.edited?[t.currentLayout.edited?n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"warning",disabled:!t.currentLayout.edited},on:{click:t.resetLayout}},[t._v(" Reset ")]):t._e(),n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary"},on:{click:function(e){return t.makeLayoutCopy(!0)}}},[t._v(" Save as new ")])]:[n("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary"},on:{click:function(e){return t.makeLayoutCopy(!1)}}},[t._v(" Duplicate ")])]],2)],1),n("ConfirmModal",{ref:"deleteLayoutModal",attrs:{title:"Delete Layout?",text:"Deleting a layout is not reversible"}}),n("ConfirmModal",{ref:"changeLayoutModal",attrs:{title:"Change Layout?",text:"The current layout has unsaved changes, which will be lost."}}),n("ConfirmModal",{ref:"exportLayoutModal",attrs:{title:"Exported Layout",actions:[{name:"close",text:"Close",color:"primary"}],"dialog-props":{persistent:!1}}},[n("code",{staticClass:"exported-code"},[t._v(" "+t._s(JSON.stringify(t.exportedLayout,null,4))+" ")])])],1)},tn=[],en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",t._b({model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},"v-dialog",t.dialogProps,!1),[n("v-card",[t.title?n("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.title)+" ")]):t._e(),n("v-card-text",[t._t("default",[t._v(" "+t._s(t.text)+" ")])],2),n("v-card-actions",[n("v-spacer"),t._l(t.actions,(function(e){return n("v-btn",{key:e.name,attrs:{color:e.color},on:{click:function(n){return t.doAction(e.name)}}},[t._v(" "+t._s(e.text||e.name)+" ")])}))],2)],1)],1)},nn=[],on=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.promise=null,t.resolve=null,t.dialog=!1,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"doAction",value:function(t){this.resolve&&this.resolve(t)}},{key:"popup",value:function(){var t=this;return this.promise||(this.promise=new Promise((function(e){t.resolve=e})).then((function(e){return t.promise=null,t.resolve=null,t.dialog=!1,e}))),this.dialog=!0,this.promise}}]),e}(d["d"]);Object(h["a"])([Object(d["b"])({default:""})],on.prototype,"title",void 0),Object(h["a"])([Object(d["b"])({default:""})],on.prototype,"text",void 0),Object(h["a"])([Object(d["b"])({default:function(){return{"max-width":"290",persistent:!0}}})],on.prototype,"dialogProps",void 0),Object(h["a"])([Object(d["b"])({default:function(){return[{name:"cancel",color:"error"},{name:"ok",text:"Confirm",color:"success"}]}})],on.prototype,"actions",void 0),on=Object(h["a"])([d["a"]],on);var sn=on,an=sn,cn=Object(m["a"])(an,en,nn,!1,null,null,null),rn=cn.exports,ln=[{id:"1",name:"G/C Pignol + Darwin",rightHand:[{buttons:[{opening:{note:"E3"},closing:{note:"C#3"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}}]},{buttons:[{opening:{note:"G3"},closing:{note:"C3"}},{opening:{note:"G#3"},closing:{note:"E3"}},{opening:{note:"B3"},closing:{note:"A3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"G#4"},closing:{note:"A4"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"A5"}},{opening:{note:"G#5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}},{opening:{note:"D5"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"Bb3"},closing:{note:"F3"}},{opening:{note:"C#3"},closing:{note:"F#3"}},{opening:{note:"Eb3"},closing:{note:"Eb3"}},{opening:{note:"G3"},closing:{note:"F4"}},{opening:{note:"Bb4"},closing:{note:"F#4"}},{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"Eb4"},closing:{note:"F5"}},{opening:{note:"G4"},closing:{note:"F#5"}},{opening:{note:"Bb5"},closing:{note:"Eb5"}},{opening:{note:"C#5"},closing:{note:"F6"}},{opening:{note:"C6"},closing:{note:"F#6"}}]}],leftHand:[{offset:1.5,buttons:[{opening:{note:"G#3",isChord:!0},closing:{note:"G#3",isChord:!0}},{opening:{note:"F#3",isChord:!0},closing:{note:"F#3",isChord:!0}},{opening:{note:"E3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"D3",isChord:!0},closing:{note:"D3",isChord:!0}},{opening:{note:"C3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"Bb3",isChord:!0},closing:{note:"Bb3",isChord:!0}}]},{offset:.5,buttons:[{opening:{note:"C#3",isChord:!0},closing:{note:"C#3",isChord:!0}},{opening:{note:"B3",isChord:!0},closing:{note:"B3",isChord:!0}},{opening:{note:"A3",isChord:!0},closing:{note:"A3",isChord:!0}},{opening:{note:"G3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"Eb3",isChord:!0},closing:{note:"Eb3",isChord:!0}}]},{offset:-.5,buttons:[{opening:{note:"G#2"},closing:{note:"G#2"}},{opening:{note:"F#2"},closing:{note:"F#2"}},{opening:{note:"E2"},closing:{note:"E2"}},{opening:{note:"D2"},closing:{note:"D2"}},{opening:{note:"C2"},closing:{note:"C2"}},{opening:{note:"Bb2"},closing:{note:"Bb2"}}]},{offset:-1.5,buttons:[{opening:{note:"C#2"},closing:{note:"C#2"}},{opening:{note:"B2"},closing:{note:"B2"}},{opening:{note:"A2"},closing:{note:"A2"}},{opening:{note:"G2"},closing:{note:"G2"}},{opening:{note:"F2"},closing:{note:"F2"}},{opening:{note:"Eb2"},closing:{note:"Eb2"}}]}]},{id:"2",name:"G/C Pignol 12 Base",rightHand:[{buttons:[{opening:{note:"Bb3"},closing:{note:"C#3"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}},{opening:{note:"D5"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"G#3"},closing:{note:"E3"}},{opening:{note:"B3"},closing:{note:"A3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"G#4"},closing:{note:"A4"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"A5"}},{opening:{note:"G#5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}},{opening:{note:"D5"},closing:{note:"A6"}}]},{buttons:[{opening:{note:"C#3"},closing:{note:"G#3"}},{opening:{note:"Eb3"},closing:{note:"Eb3"}},{opening:{note:"G3"},closing:{note:"F4"}},{opening:{note:"Bb4"},closing:{note:"F#4"}},{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"Eb4"},closing:{note:"F5"}},{opening:{note:"G4"},closing:{note:"F#5"}},{opening:{note:"Bb5"},closing:{note:"Eb5"}},{opening:{note:"C#5"},closing:{note:"F6"}},{opening:{note:"Eb6"},closing:{note:"A6"}}]}],leftHand:[{offset:0,buttons:[{opening:{note:"B3",isChord:!0},closing:{note:"G#3",isChord:!0}},{opening:{note:"B2"},closing:{note:"G#2"}},{opening:{note:"D3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"D2"},closing:{note:"G2"}},{opening:{note:"G3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"G2"},closing:{note:"C2"}}]},{offset:0,buttons:[{opening:{note:"Bb3",isChord:!0},closing:{note:"Eb3",isChord:!0}},{opening:{note:"Bb2"},closing:{note:"Eb2"}},{opening:{note:"A3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"F2"},closing:{note:"F2"}}]}]},{id:"3",name:"G/C Pignol 18 Base",rightHand:[{buttons:[{opening:{note:"Bb3"},closing:{note:"C#3"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}},{opening:{note:"D5"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"G#3"},closing:{note:"E3"}},{opening:{note:"B3"},closing:{note:"A3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"G#4"},closing:{note:"A4"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"A5"}},{opening:{note:"G#5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}},{opening:{note:"D5"},closing:{note:"A6"}}]},{buttons:[{opening:{note:"C#3"},closing:{note:"G#3"}},{opening:{note:"Eb3"},closing:{note:"Eb3"}},{opening:{note:"G3"},closing:{note:"F4"}},{opening:{note:"Bb4"},closing:{note:"F#4"}},{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"Eb4"},closing:{note:"F5"}},{opening:{note:"G4"},closing:{note:"F#5"}},{opening:{note:"Bb5"},closing:{note:"Eb5"}},{opening:{note:"C#5"},closing:{note:"F6"}},{opening:{note:"Eb6"},closing:{note:"A6"}}]}],leftHand:[{offset:0,buttons:[{opening:{note:"D3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"D2"},closing:{note:"G2"}},{opening:{note:"G3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"G2"},closing:{note:"C2"}},{opening:{note:"Bb3",isChord:!0},closing:{note:"Eb3",isChord:!0}},{opening:{note:"Bb2"},closing:{note:"Eb2"}}]},{offset:0,buttons:[{opening:{note:"A3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"F2"},closing:{note:"F2"}},{opening:{note:"B3",isChord:!0},closing:{note:"G#3",isChord:!0}},{opening:{note:"B2"},closing:{note:"G#2"}}]},{buttons:[{opening:{note:"E2"},closing:{note:"A2"}},{opening:{note:"C#2"},closing:{note:"C#2"}},{opening:{note:"F#2"},closing:{note:"F#2"}},{opening:{note:"C2"},closing:{note:"D2"}},{opening:{note:"G#2",isChord:!1},closing:{note:"B2",isChord:!1}},{opening:{note:"Eb2"},closing:{note:"Bb2"}}]}]},{id:"4",name:"G/C 8 Base",rightHand:[{buttons:[{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}}]},{buttons:[{opening:{note:"Bb4"},closing:{note:"G#4"}},{opening:{note:"B3"},closing:{note:"G3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"A4"},closing:{note:"G4"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"G5"}},{opening:{note:"A5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}}]}],leftHand:[{offset:0,buttons:[{opening:{note:"D3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"D2"},closing:{note:"G2"}},{opening:{note:"G3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"G2"},closing:{note:"C2"}}]},{offset:0,buttons:[{opening:{note:"A3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"F2"},closing:{note:"F2"}}]}]},{id:"5",name:"G/C 21+2 12 Base",rightHand:[{buttons:[{opening:{note:"E2"},closing:{note:"B2"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}}]},{buttons:[{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"B3"},closing:{note:"G3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"A4"},closing:{note:"G4"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"G5"}},{opening:{note:"A5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}}]},{buttons:[{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"Bb4"},closing:{note:"G#4"}}]}],leftHand:[{offset:0,buttons:[{opening:{note:"B3",isChord:!0},closing:{note:"G#3",isChord:!0}},{opening:{note:"B2"},closing:{note:"G#2"}},{opening:{note:"D3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"D2"},closing:{note:"G2"}},{opening:{note:"G3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"G2"},closing:{note:"C2"}}]},{offset:0,buttons:[{opening:{note:"Bb3",isChord:!0},closing:{note:"Eb3",isChord:!0}},{opening:{note:"Bb2"},closing:{note:"Eb2"}},{opening:{note:"A3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"F2"},closing:{note:"F2"}}]}]},{id:"6",name:"G/C Heim 18 Base",rightHand:[{buttons:[{opening:{note:"E3"},closing:{note:"B2"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}},{opening:{note:"C6"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"G3"},closing:{note:"E3"}},{opening:{note:"B3"},closing:{note:"G3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"A4"},closing:{note:"G3"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"G3"}},{opening:{note:"A5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}},{opening:{note:"D5"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"Bb2"},closing:{note:"G#2"}},{opening:{note:"C#3"},closing:{note:"A3"}},{opening:{note:"G3"},closing:{note:"Eb3"}},{opening:{note:"G#3"},closing:{note:"G#3"}},{opening:{note:"Bb3"},closing:{note:"A4"}},{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"G4"},closing:{note:"G#5"}},{opening:{note:"G#4"},closing:{note:"A5"}},{opening:{note:"Bb5"},closing:{note:"Eb5"}},{opening:{note:"C#5"},closing:{note:"G#5"}}]}],leftHand:[{offset:0,buttons:[{opening:{note:"B3",isChord:!0},closing:{note:"G#3",isChord:!0}},{opening:{note:"B2"},closing:{note:"G#2"}},{opening:{note:"D3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"D2"},closing:{note:"G2"}},{opening:{note:"G3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"G2"},closing:{note:"C2"}}]},{offset:0,buttons:[{opening:{note:"Eb3",isChord:!0},closing:{note:"Eb3",isChord:!0}},{opening:{note:"Eb4"},closing:{note:"Eb2"}},{opening:{note:"A3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"F2"},closing:{note:"F2"}}]},{buttons:[{opening:{note:"C#3",isChord:!0},closing:{note:"B3",isChord:!0}},{opening:{note:"C#2"},closing:{note:"B2"}},{opening:{note:"F#3",isChord:!0},closing:{note:"A3",isChord:!0}},{opening:{note:"F#2"},closing:{note:"A2"}},{opening:{note:"C3",isChord:!0},closing:{note:"D3",isChord:!0}},{opening:{note:"C2"},closing:{note:"D2"}}]}]},{id:"7",name:"G/C Heim 12 Base",rightHand:[{buttons:[{opening:{note:"E3"},closing:{note:"B2"}},{opening:{note:"F#3"},closing:{note:"D3"}},{opening:{note:"A3"},closing:{note:"G3"}},{opening:{note:"C4"},closing:{note:"B3"}},{opening:{note:"E4"},closing:{note:"D4"}},{opening:{note:"F#4"},closing:{note:"G4"}},{opening:{note:"A4"},closing:{note:"B4"}},{opening:{note:"C5"},closing:{note:"D5"}},{opening:{note:"E5"},closing:{note:"G5"}},{opening:{note:"F#4"},closing:{note:"B5"}},{opening:{note:"A5"},closing:{note:"D6"}},{opening:{note:"C6"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"G3"},closing:{note:"E3"}},{opening:{note:"B3"},closing:{note:"G3"}},{opening:{note:"D3"},closing:{note:"C4"}},{opening:{note:"F4"},closing:{note:"E4"}},{opening:{note:"A4"},closing:{note:"G3"}},{opening:{note:"B4"},closing:{note:"C5"}},{opening:{note:"D4"},closing:{note:"E5"}},{opening:{note:"F5"},closing:{note:"G3"}},{opening:{note:"A5"},closing:{note:"C6"}},{opening:{note:"B5"},closing:{note:"E6"}},{opening:{note:"D5"},closing:{note:"G6"}}]},{buttons:[{opening:{note:"Bb2"},closing:{note:"G#2"}},{opening:{note:"C#3"},closing:{note:"A3"}},{opening:{note:"G3"},closing:{note:"Eb3"}},{opening:{note:"G#3"},closing:{note:"G#3"}},{opening:{note:"Bb3"},closing:{note:"A4"}},{opening:{note:"C#4"},closing:{note:"Eb4"}},{opening:{note:"G4"},closing:{note:"G#5"}},{opening:{note:"G#4"},closing:{note:"A5"}},{opening:{note:"Bb5"},closing:{note:"Eb5"}},{opening:{note:"C#5"},closing:{note:"G#5"}}]}],leftHand:[{offset:0,buttons:[{opening:{note:"B3",isChord:!0},closing:{note:"G#3",isChord:!0}},{opening:{note:"B2"},closing:{note:"G#2"}},{opening:{note:"D3",isChord:!0},closing:{note:"G3",isChord:!0}},{opening:{note:"D2"},closing:{note:"G2"}},{opening:{note:"G3",isChord:!0},closing:{note:"C3",isChord:!0}},{opening:{note:"G2"},closing:{note:"C2"}}]},{offset:0,buttons:[{opening:{note:"Eb3",isChord:!0},closing:{note:"Eb3",isChord:!0}},{opening:{note:"Eb4"},closing:{note:"Eb2"}},{opening:{note:"A3",isChord:!0},closing:{note:"E3",isChord:!0}},{opening:{note:"A2"},closing:{note:"E2"}},{opening:{note:"F3",isChord:!0},closing:{note:"F3",isChord:!0}},{opening:{note:"F2"},closing:{note:"F2"}}]}]}],un=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.deleteDialog=!1,t.exportedLayout={},t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onLayoutChoice",value:function(t){var e=this;this.currentLayout.edited?this.$refs.changeLayoutModal.popup().then((function(n){"ok"===n&&(e.$vxm.settings.accordion.accordionLayout=t,e.$refs.layoutChoice.reset())})):(this.$vxm.settings.accordion.accordionLayout=t,this.$refs.layoutChoice.reset())}},{key:"setLayoutName",value:function(t){this.$vxm.settings.accordion.updateLayout({name:t})}},{key:"exportLayout",value:function(){this.exportedLayout=Jt.a.cloneDeep(this.$vxm.settings.accordion.accordionLayout),delete this.exportedLayout.id,delete this.exportedLayout.custom,delete this.exportedLayout.edited,this.$refs.exportLayoutModal.popup()}},{key:"resetLayout",value:function(){this.$vxm.settings.accordion.resetLayout()}},{key:"makeLayoutCopy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$vxm.settings.accordion.makeCopy(this.$vxm.settings.accordion.accordionLayout,t)}},{key:"deleteLayout",value:function(){var t=this;this.$refs.deleteLayoutModal.popup().then((function(e){"ok"===e&&t.$vxm.settings.accordion.deleteLayout(t.$vxm.settings.accordion.accordionLayout)}))}},{key:"saveLayout",value:function(){this.$vxm.settings.accordion.saveLayout(this.$vxm.settings.accordion.accordionLayout)}},{key:"keyLayouts",get:function(){return ln}},{key:"currentLayout",get:function(){return this.$vxm.settings.accordion.accordionLayout}}]),e}(o["default"]);un=Object(h["a"])([Object(d["a"])({components:{SettingsSection:G,ConfirmModal:rn}})],un);var gn=un,hn=gn,dn=(n("04af"),Object(m["a"])(hn,Qe,tn,!1,null,"6c82176c",null)),pn=dn.exports,bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SettingsSection",{attrs:{title:"Display Options"}},[n("v-radio-group",{staticClass:"inline-block",attrs:{row:""},model:{value:t.$vxm.settings.accordion.viewStyle,callback:function(e){t.$set(t.$vxm.settings.accordion,"viewStyle",e)},expression:"$vxm.settings.accordion.viewStyle"}},[n("v-radio",{attrs:{label:"Closing",value:"closing"}}),n("v-radio",{attrs:{label:"Both",value:"both"}}),n("v-radio",{attrs:{label:"Opening",value:"opening"}})],1)],1),n("SettingsSection",{attrs:{description:"Accordion layout can be viewed mirrored or traditionally (as in note sheets)"}},[n("v-switch",{staticClass:"inline-block",attrs:{label:"Mirror View?"},model:{value:t.$vxm.settings.accordion.mirrorView,callback:function(e){t.$set(t.$vxm.settings.accordion,"mirrorView",e)},expression:"$vxm.settings.accordion.mirrorView"}})],1),n("v-switch",{staticClass:"inline-block",attrs:{label:"Show Edit Controls?"},model:{value:t.$vxm.settings.accordion.showEditControls,callback:function(e){t.$set(t.$vxm.settings.accordion,"showEditControls",e)},expression:"$vxm.settings.accordion.showEditControls"}})],1)},fn=[],vn=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),e}(o["default"]);vn=Object(h["a"])([Object(d["a"])({components:{SettingsSection:G}})],vn);var mn=vn,yn=mn,On=Object(m["a"])(yn,bn,fn,!1,null,null,null),jn=On.exports,Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SettingsSection",{attrs:{title:"Scale Display"}},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-switch",{staticClass:"inline-block",attrs:{label:"Show Scale?"},model:{value:t.$vxm.noteHighlighter.showHighlights,callback:function(e){t.$set(t.$vxm.noteHighlighter,"showHighlights",e)},expression:"$vxm.noteHighlighter.showHighlights"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-switch",{staticClass:"inline-block",attrs:{label:"Use color gradients?"},model:{value:t.$vxm.noteHighlighter.showHighlightsAsScale,callback:function(e){t.$set(t.$vxm.noteHighlighter,"showHighlightsAsScale",e)},expression:"$vxm.noteHighlighter.showHighlightsAsScale"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-autocomplete",{attrs:{placeholder:"Choose Key...",items:t.possibleKeys},model:{value:t.$vxm.noteHighlighter.highlightedScaleKey,callback:function(e){t.$set(t.$vxm.noteHighlighter,"highlightedScaleKey",e)},expression:"$vxm.noteHighlighter.highlightedScaleKey"}})],1),n("v-col",{attrs:{cols:"8"}},[n("v-autocomplete",{attrs:{placeholder:"Choose Scale...",items:t.possibleScales},model:{value:t.$vxm.noteHighlighter.highlightedScaleName,callback:function(e){t.$set(t.$vxm.noteHighlighter,"highlightedScaleName",e)},expression:"$vxm.noteHighlighter.highlightedScaleName"}})],1)],1)],1)],1)},xn=[],wn=(n("ddb0"),function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"possibleScales",get:function(){return k["e"].entries().map((function(t){return t.name})).sort()}},{key:"possibleKeys",get:function(){var t=this;return k["c"].chromatic(["C1","B1"],{sharps:!0,pitchClass:!0}).flatMap((function(t){return[t,k["b"].enharmonic(t)]})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(e){return{value:e,text:F(e,{useRomanceNotes:t.$vxm.settings.useRomanceNotes})}}))}}]),e}(o["default"]));wn=Object(h["a"])([Object(d["a"])({components:{SettingsSection:G}})],wn);var Sn=wn,kn=Sn,An=Object(m["a"])(kn,Cn,xn,!1,null,null,null),$n=An.exports,En=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),e}(o["default"]);En=Object(h["a"])([Object(d["a"])({components:{AccordionLayoutSettings:pn,AccordionViewSettings:jn,AccordionScaleSettings:$n}})],En);var _n=En,Nn=_n,Ln=(n("b0bf"),Object(m["a"])(Nn,Je,Ze,!1,null,"f2997588",null)),Gn=Ln.exports;o["default"].use(at["a"]);var Hn=new at["a"]({routes:[{path:"/",name:"pitchfinder",component:Ft},{path:"/teacher",name:"teacher",component:Pt},{path:"/accordion",name:"accordion",component:Xe,components:{default:Xe,sidebar:Gn}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),Dn=(n("b64b"),n("8a79"),n("2f62")),Bn=n("bfa9"),Fn=n("5a2b"),Rn=(n("7db0"),n("96cf"),n("1da1")),Mn=n("45eb"),zn=(n("ace4"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),.97),Tn=44100,Vn=.5,In=80,qn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,t),this.cutoff=e.cutoff||zn,this.sampleRate=e.sampleRate||Tn}return Object(S["a"])(t,[{key:"normalizedSquareDifference",value:function(t){var e=0;this.squareSums[0]=t[0]*t[0];for(var n=1;n<t.length;n+=1)this.squareSums[n]=t[n]*t[n]+this.squareSums[n-1];for(var o=0;o<t.length;o+=1){e=0;for(var i=this.squareSums[t.length-1-o]+this.squareSums[t.length-1]-this.squareSums[o],s=0;s<t.length-o;s+=1)e+=t[s]*t[s+o];this.nsdf[o]=2*e/i}}},{key:"parabolicInterpolation",value:function(t,e){var n=t[e-1],o=t[e],i=t[e+1],s=e,a=i+n-2*o;if(0===a)return{x:s,y:o};var c=n-i;return{x:s+c/(2*a),y:o-c*c/(8*a)}}},{key:"peakPicking",value:function(t){var e=0,n=0,o=[];while(e<(t.length-1)/3&&t[e]>0)e+=1;while(e<t.length-1&&t[e]<=0)e+=1;0===e&&(e=1);while(e<t.length-1)if(t[e]>t[e-1]&&t[e]>=t[e+1]&&(0===n?n=e:t[e]>t[n]&&(n=e)),e+=1,e<t.length-1&&t[e]<=0){n>0&&(o.push(n),n=0);while(e<t.length-1&&t[e]<=0)e+=1}return n>0&&o.push(n),o}},{key:"findPitch",value:function(t){var e;this.nsdf&&this.nsdf.length===t.length||(this.nsdf=new Float32Array(t.length),this.squareSums=new Float32Array(t.length));var n=[],o=[];this.normalizedSquareDifference(t);for(var i=this.peakPicking(this.nsdf),s=-1/0,a=0;a<i.length;a+=1){var c=i[a];if(s=Math.max(s,this.nsdf[c]),this.nsdf[c]>Vn){var r=this.parabolicInterpolation(this.nsdf,c);o.push(r.y),n.push(r.x),s=Math.max(s,r.y)}}if(n.length){for(var l=this.cutoff*s,u=0,g=0;g<o.length;g+=1)if(o[g]>=l){u=g;break}var h=n[u],d=this.sampleRate/h;e=d>In?d:-1}else e=-1;return{probability:s,freq:e}}}]),t}(),Pn=function(){function t(){Object(r["a"])(this,t),this.listeners={}}return Object(S["a"])(t,[{key:"on",value:function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),function(){n.listeners[t]=n.listeners[t].filter((function(t){return t!==e}))}}},{key:"off",value:function(t,e){this.listeners[t]&&(this.listeners[t]=e?this.listeners[t].filter((function(t){return t!==e})):[])}},{key:"trigger",value:function(t){for(var e=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(this.listeners[t])for(var s=function(n){setTimeout((function(){var i;e.listeners[t]&&e.listeners[t][n]&&(i=e.listeners[t])[n].apply(i,o)}))},a=0;a<this.listeners[t].length;a+=1)s(a)}}]),t}(),Wn=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).call(this)),t.bufferSize=1024,n.bufferSize&&(t.bufferSize=n.bufferSize),t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"setup",value:function(t){this.context=t,this.stop(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=this.bufferSize,this.timeData=new Float32Array(this.analyserNode.fftSize)}},{key:"connectToSource",value:function(t,e){this.source&&(this.source.disconnect(this.analyserNode),delete this.source),this.source=t,t.connect(this.analyserNode),"undefined"!==typeof e&&e()}},{key:"stop",value:function(){if(this.source){try{this.source.disconnect(this.analyserNode)}catch(t){}delete this.source}if(this.analyserNode){try{this.analyserNode.disconnect()}catch(t){}delete this.analyserNode}}}]),e}(Pn),Un=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).call(this,n)),t.pitchFinder=new qn,t.minVol=0,t.duration=0,t.MinVol=n.minVol||0,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onFrame",value:function(){var t=this;if(this.source){var n=performance.now();this.analyserNode.getFloatTimeDomainData(this.timeData);var o=e.getVol(this.timeData);o>this.minVol&&(this.pitch=this.pitchFinder.findPitch(this.timeData),this.trigger("pitchData",this.pitch),this.duration=performance.now()-n),window.requestAnimationFrame((function(){return t.onFrame()}))}}},{key:"connectToSource",value:function(t,n){Object(Mn["a"])(Object(u["a"])(e.prototype),"connectToSource",this).call(this,t,n),this.onFrame()}},{key:"setup",value:function(t){Object(Mn["a"])(Object(u["a"])(e.prototype),"setup",this).call(this,t),this.pitchFinder.sampleRate=t.sampleRate}},{key:"MinVol",get:function(){return this.minVol},set:function(t){this.minVol=Math.max(Math.min(1,t),0)}}],[{key:"getVol",value:function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n]*t[n];return Math.sqrt(e/t.length)}}]),e}(Wn),Yn=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"setup",value:function(t){Object(Mn["a"])(Object(u["a"])(e.prototype),"setup",this).call(this,t)}},{key:"connectToSource",value:function(t,n){Object(Mn["a"])(Object(u["a"])(e.prototype),"connectToSource",this).call(this,t,n),this.onFrame()}},{key:"onFrame",value:function(){var t=this;this.source&&(this.analyserNode.getFloatTimeDomainData(this.timeData),this.trigger("volumeData",e.getVol(this.timeData)),window.requestAnimationFrame((function(){return t.onFrame()})))}}],[{key:"getVol",value:function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n]*t[n];return Math.sqrt(e/t.length)}}]),e}(Wn),Kn=window.AudioContext||window.webkitAudioContext,Xn=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).call(this)),t.pitchAnalyser=new Un,t.volumeAnalyser=new Yn,t.state="stopped",t.currentInput="",document.addEventListener("visibilitychange",(function(){return t.onVisibilityChange()})),t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"setState",value:function(t){this.state=t,this.trigger("state-change",t)}},{key:"start",value:function(t){var e=this,n=Promise.resolve();return this.context&&"closed"!==this.context.state||(this.context=new Kn),this.context&&"suspended"===this.context.state&&(n=this.context.resume()),t&&(n=n.then((function(){return e.startAudioStream(t)}))),n}},{key:"suspend",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.context?(this.stopAudioStream(),this.context.suspend().then((function(){t.setState(e?"hold":"paused")}))):Promise.resolve()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?"hold"===this.state&&this.start(this.currentInput):"running"===this.state&&this.suspend(!0)}},{key:"stop",value:function(){var t=this;return this.context?(this.stopAudioStream(),this.context.close().then((function(){delete t.context,t.setState("stopped")}))):Promise.resolve()}},{key:"startAudioStream",value:function(t){var e=this;return this.stopAudioStream(),navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:t}}}).then((function(n){e.context&&(e.audioStream=n,e.currentInput=t,e.startAnalyser(),e.setState("running"))}))}},{key:"stopAudioStream",value:function(){this.audioStream&&(this.stopAnalyser(),this.audioStream.getAudioTracks().forEach((function(t){t.stop()})),delete this.audioStream)}},{key:"startAnalyser",value:function(){if(this.context){this.volumeAnalyser.setup(this.context),this.pitchAnalyser.setup(this.context);var t=this.context.createMediaStreamSource(this.audioStream);this.pitchAnalyser.connectToSource(t),this.volumeAnalyser.connectToSource(t)}}},{key:"stopAnalyser",value:function(){this.pitchAnalyser.stop(),this.volumeAnalyser.stop()}},{key:"Context",get:function(){return this.context}},{key:"State",get:function(){return this.state}}]),e}(Pn),Jn={$audioContext:new Xn},Zn=Object(Fn["createModule"])({strict:!1,namespaced:"teacher",enableLocalWatchers:!0}),Qn=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.noteRegisterTime=350,t.notes=[],t.noteRange=[10,100],t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onSetup",value:function(){var t=Object(Rn["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.notes&&!this.notes.length||(this.notes=k["d"].scale("C major").notes);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setNoteRegisterTime",value:function(t){this.noteRegisterTime=Math.max(0,t)}},{key:"setNotes",value:function(t){this.notes=t}},{key:"setNoteRange",value:function(t){var e=Math.max(0,t[0]),n=Math.max(Math.min(127,t[1]),e);this.noteRange=[e,n]}}]),e}(Zn);Object(h["a"])([Fn["getter"]],Qn.prototype,"noteRegisterTime",void 0),Object(h["a"])([Fn["getter"]],Qn.prototype,"notes",void 0),Object(h["a"])([Fn["getter"]],Qn.prototype,"noteRange",void 0),Object(h["a"])([Fn["action"]],Qn.prototype,"onSetup",null),Object(h["a"])([Fn["mutation"]],Qn.prototype,"setNoteRegisterTime",null),Object(h["a"])([Fn["mutation"]],Qn.prototype,"setNotes",null),Object(h["a"])([Fn["mutation"]],Qn.prototype,"setNoteRange",null);var to=n("3835");n("ac1f"),n("25f0"),n("5319");function eo(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}));return e}var no=Object(Fn["createModule"])({strict:!1,namespaced:"accordion",enableLocalWatchers:!0});function oo(t){return[].concat(Object(Yt["a"])(t.customLayouts),Object(Yt["a"])(ln))}var io=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.customLayouts=[],t.currentAccordionLayout=null,t.viewStyle="both",t.showEditControls=!1,t.mirrorView=!1,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"onSetup",value:function(){var t=Object(Rn["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.currentAccordionLayout||(e=Object(to["a"])(ln,1),this.accordionLayout=e[0]),this.updateLayoutsToLatest();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateLayoutsToLatest",value:function(){[].concat(Object(Yt["a"])(this.customLayouts),[this.currentAccordionLayout]).forEach((function(t){[].concat(Object(Yt["a"])(t.leftHand),Object(Yt["a"])(t.rightHand)).forEach((function(t){t.buttons.forEach((function(t){"string"===typeof t.closing&&(t.closing={note:t.closing}),"string"===typeof t.opening&&(t.opening={note:t.opening})}))}))}))}},{key:"updateLayout",value:function(t){this.currentAccordionLayout=Object(D["a"])({},this.currentAccordionLayout,{},t,{id:this.currentAccordionLayout.id,custom:this.currentAccordionLayout.custom,edited:!0})}},{key:"saveLayout",value:function(t){var e=this.customLayouts.findIndex((function(e){return e.id===t.id}));e>-1&&(t.edited=!1,this.customLayouts.splice(e,1,Jt.a.cloneDeep(t)))}},{key:"resetLayout",value:function(){var t=this,e=oo(this).find((function(e){return e.id===t.currentAccordionLayout.id}));e&&(this.currentAccordionLayout=Jt.a.cloneDeep(e))}},{key:"makeCopy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Jt.a.cloneDeep(t);n.name=e?n.name:"".concat(n.name," (Copy)"),n.id=eo(),n.custom=!0,n.edited=!1,this.customLayouts.push(n),this.currentAccordionLayout=n}},{key:"deleteLayout",value:function(t){var e=this.customLayouts.findIndex((function(e){return e.id===t.id}));e>-1&&this.customLayouts.splice(e,1),this.currentAccordionLayout=Jt.a.cloneDeep(oo(this)[0])}},{key:"accordionLayouts",get:function(){return oo(this)}},{key:"accordionLayout",get:function(){return this.currentAccordionLayout},set:function(t){this.currentAccordionLayout=Jt.a.cloneDeep(t)}}]),e}(no);Object(h["a"])([Fn["getter"]],io.prototype,"customLayouts",void 0),Object(h["a"])([Fn["action"]],io.prototype,"onSetup",null),Object(h["a"])([Fn["mutation"]],io.prototype,"updateLayoutsToLatest",null),Object(h["a"])([Fn["mutation"]],io.prototype,"updateLayout",null),Object(h["a"])([Fn["mutation"]],io.prototype,"saveLayout",null),Object(h["a"])([Fn["mutation"]],io.prototype,"resetLayout",null),Object(h["a"])([Fn["mutation"]],io.prototype,"makeCopy",null),Object(h["a"])([Fn["mutation"]],io.prototype,"deleteLayout",null);var so=Object(Fn["createModule"])({strict:!1,namespaced:"settings",enableLocalWatchers:!0}),ao=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.minVol=0,t.teacher=Object(Fn["createSubModule"])(Qn),t.accordion=Object(Fn["createSubModule"])(io),t.selectedInput="",t.useRomanceNotes=!0,t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"setUseRomanceNotes",value:function(t){this.useRomanceNotes=t}},{key:"setMinVol",value:function(t){this.minVol=t,Jn.$audioContext.pitchAnalyser.MinVol=this.minVol/100}},{key:"setSelectedInput",value:function(t){this.selectedInput=t,"running"===Jn.$audioContext.State&&this.selectedInput&&Jn.$audioContext.start(this.selectedInput)}},{key:"onSetup",value:function(){var t=Object(Rn["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:navigator.mediaDevices.enumerateDevices().then((function(t){var n=t.filter((function(t){return"audioinput"===t.kind}));n.find((function(t){return t.deviceId===e.selectedInput}))||e.setSelectedInput(n[0].deviceId)})),this.setMinVol(this.minVol);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),e}(so);Object(h["a"])([Fn["mutation"]],ao.prototype,"setUseRomanceNotes",null),Object(h["a"])([Fn["mutation"]],ao.prototype,"setMinVol",null),Object(h["a"])([Fn["mutation"]],ao.prototype,"setSelectedInput",null),Object(h["a"])([Fn["action"]],ao.prototype,"onSetup",null);var co=Object(Fn["createModule"])({strict:!1,namespaced:"audio",enableLocalWatchers:!0}),ro=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.state="stopped",t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"setState",value:function(t){this.state=t}},{key:"onSetup",value:function(){var t=Object(Rn["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.setState(Jn.$audioContext.State),Jn.$audioContext.on("state-change",(function(t){e.setState(t)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),e}(co);Object(h["a"])([Fn["getter"]],ro.prototype,"state",void 0),Object(h["a"])([Fn["mutation"]],ro.prototype,"setState",null),Object(h["a"])([Fn["action"]],ro.prototype,"onSetup",null);var lo=Object(Fn["createModule"])({strict:!1,namespaced:"noteHighlighter",enableLocalWatchers:!0}),uo=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.showHighlights=!1,t.showHighlightsAsScale=!0,t.highlightedScaleName="major",t.highlightedScaleKey="C",t}return Object(g["a"])(e,t),Object(S["a"])(e,[{key:"highlightedScaleNotes",get:function(){var t=k["d"].scale("".concat(this.highlightedScaleKey," ").concat(this.highlightedScaleName));return t?t.notes:[]}}]),e}(lo);o["default"].use(Dn["a"]);var go=new Bn["a"]({strictMode:!0,storage:window.localStorage}),ho=function(){return function(t){t.subscribe((function(e){if("RESTORE_MUTATION"===e.type)for(var n=Object.keys(t._actions).filter((function(t){return t.endsWith("/onSetup")})),o=0;o<n.length;o+=1)t.dispatch(n[o])}))}},po={modules:Object(D["a"])({},Object(Fn["extractVuexModule"])(ao),{},Object(Fn["extractVuexModule"])(ro),{},Object(Fn["extractVuexModule"])(uo)),mutations:{RESTORE_MUTATION:go.RESTORE_MUTATION},plugins:[ho(),go.plugin]},bo=new Dn["a"].Store(po),fo={settings:Object(Fn["createProxy"])(bo,ao),audio:Object(Fn["createProxy"])(bo,ro),noteHighlighter:Object(Fn["createProxy"])(bo,uo)};o["default"].use(s.a),o["default"].config.productionTip=!1,o["default"].prototype.$audioContext=Jn.$audioContext,o["default"].prototype.$vxm=fo,new o["default"]({router:Hn,store:bo,vuetify:new s.a({}),render:function(t){return t(st)}}).$mount("#app")},cf76:function(t,e,n){},df27:function(t,e,n){},e717:function(t,e,n){"use strict";var o=n("df27"),i=n.n(o);i.a},f133:function(t,e,n){},fe13:function(t,e,n){"use strict";var o=n("2597"),i=n.n(o);i.a}});
//# sourceMappingURL=app.91888077.js.map